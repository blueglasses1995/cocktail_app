<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@1.5/dist/vuetify.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@1.5/dist/vuetify.js"></script>
    <title>Cocktail App</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <v-app id="app">
      <v-toolbar color="red lighten-3" dark fixed>
        <v-toolbar-title>Cocktail App</v-toolbar-title>
        <v-spacer></v-spacer>
        <v-btn
          flat
          @click.stop="searchShown = !searchShown"
        >Search</v-btn>
        <v-btn
          flat
          @click.stop="toggleRegisterModal"
        >Register</v-btn>
        <v-btn
          flat
          @click.stop="toggleLoginModal"
        >Login</v-btn>
        <v-btn
          flat
          @click.stop="mypageShown = !mypageShown"
        >Mypage</v-btn>
      </v-toolbar>
      <h1 style="margin-bottom:2em;"></h1>
      <v-navigation-drawer
        v-model="mypageShown"
        temporary
        :right="right"
        absolute
        dark
      >
        <v-list
          dense
          nav
          class="py-0"
        >
          <v-list-item two-line :class="miniVariant && 'px-0'">
            <v-list-item-avatar>
              <img src="https://randomuser.me/api/portraits/men/81.jpg">
            </v-list-item-avatar>
    
            <v-list-item-content>
              <v-list-item-title>Application</v-list-item-title>
              <v-list-item-subtitle>Subtext</v-list-item-subtitle>
            </v-list-item-content>
          </v-list-item>
        </v-list>
      </v-navigation-drawer>
      
      <v-dialog v-model="registerShown" width="800" persistent>
        <v-card>
          <v-card-title class="headline red lighten-3 white--text" primary-title>
            Register
          </v-card-title>
          <v-text-field v-model="postTitle" prepend-icon="mdi-account-circle" label="User Name" required style='margin:20px; margin-top:30px'></v-text-field>
          <v-text-field v-model="postTitle" prepend-icon="mdi-account-circle" label="Email" required style='margin:20px; margin-top:30px'></v-text-field>
          <v-flex d-flex>
            <v-text-field :type="showPassword ? 'text' : 'password'" v-model="postLanguage" prepend-icon="mdi-lock" append-icon="mdi-eye-off" @click:append="showPassword = !showPassword" label="Password" required style='margin:20px; margin-bottom:0px; margin-left:20px'></v-text-field>
          </v-flex>
          <v-flex d-flex>
            <v-text-field :type="showPassword ? 'text' : 'password'" v-model="postLanguage" prepend-icon="mdi-lock" append-icon="mdi-eye-off" @click:append="showPassword = !showPassword" label="Password" required style='margin:20px; margin-bottom:0px; margin-left:20px'></v-text-field>
          </v-flex>
          <v-divider></v-divider>
          <v-card-actions>
            <v-btn color="#grey lighten-4" flat v-on:click="toggleRegisterModal">
              Cancel
            </v-btn>
            <v-btn color="blue" flat v-on:click="toggleLoginModal">
              Login
            </v-btn>
            <v-spacer></v-spacer>
            <v-btn color="red" flat v-on:click="registerUser">
              Register
            </v-btn>
          </v-card-actions>
        </v-card>
      </v-dialog>
      
      <v-dialog v-model="loginShown" width="800" persistent>
        <v-card>
          <v-card-title class="headline red lighten-3 white--text" primary-title>
            Login
          </v-card-title>
          <v-text-field v-model="postTitle" prepend-icon="mdi-account-circle" label="Email" required style='margin:20px; margin-top:30px'></v-text-field>
          <v-flex d-flex>
            <v-text-field :type="showPassword ? 'text' : 'password'" v-model="postLanguage" prepend-icon="mdi-lock" append-icon="mdi-eye-off" @click:append="showPassword = !showPassword" label="Password" required style='margin:20px; margin-bottom:0px; margin-left:20px'></v-text-field>
          </v-flex>
          <v-divider></v-divider>
          <v-card-actions>
            <v-btn color="#grey lighten-4" flat v-on:click="toggleLoginModal">
              Cancel
            </v-btn>
            <v-btn color="blue" flat v-on:click="toggleRegisterModal">
              Register
            </v-btn>
            <v-spacer></v-spacer>
            <v-btn color="red" flat v-on:click="login">
              Login
            </v-btn>
          </v-card-actions>
        </v-card>
      </v-dialog>
      <%= yield %>
    </v-app>
    <%= javascript_pack_tag 'main' %>
  </body>
</html>